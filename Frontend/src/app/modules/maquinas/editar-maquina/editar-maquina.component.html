<div class="row">
    <div class="col-12 d-flex justify-content-between">
        <h2 mat-dialog-title>
            Editar maquina
        </h2>

        <button mat-icon-button mat-dialog-close>
            <mat-icon>close</mat-icon>
        </button>
    </div>
</div>

<form #form="ngForm" (ngSubmit)="onSubmit()">

    <mat-dialog-content>
        <div *ngIf="!maquina || !empresas || !tiposMaquinas" class="row">
            <div class="col-12 justify-content-center d-flex">
                <mat-spinner></mat-spinner>
            </div>
        </div>

        <div *ngIf="maquina && empresas && tiposMaquinas" class="row">
            <mat-form-field class="col-12">
                <input matInput name="patente" [(ngModel)]="maquina.patente" required placeholder="Patente">
            </mat-form-field>

            <mat-form-field class="col-sm-12 col-md-6">
                <mat-label>Empresa</mat-label>
                <mat-select name="empresa" [(ngModel)]="maquina.empresa" required>
                    <mat-option *ngFor="let empresa of empresas" [value]="empresa._links.self.href">
                        {{ empresa.nombre }}
                    </mat-option>
                </mat-select>
            </mat-form-field>

            <mat-form-field class="col-sm-12 col-md-6">
                <mat-label>Tipo de m√°quina</mat-label>
                <mat-select name="tipoMaquina" [(ngModel)]="maquina.tipoMaquina" required>
                    <mat-option *ngFor="let tipoMaquina of tiposMaquinas" [value]="tipoMaquina._links.self.href">
                        {{ tipoMaquina.nombre }}
                    </mat-option>
                </mat-select>
            </mat-form-field>

        </div>
    </mat-dialog-content>

    <mat-dialog-actions>
        <div *ngIf="!registrando" class="col-sm-12 col-md-3 offset-sm-0 offset-md-6">
            <button class="w-100" type="submit" mat-raised-button color="primary">Actualizar</button>
        </div>

        <div *ngIf="!registrando" class="col-sm-12 col-md-3 offset-sm-0">
            <button class="w-100" mat-raised-button mat-dialog-close color="warn">Cancelar</button>
        </div>

        <div class="col-12 justify-content-center d-flex" *ngIf="registrando">
            <mat-progress-spinner diameter="48" color="primary" mode="indeterminate"></mat-progress-spinner>
        </div>
    </mat-dialog-actions>

</form>